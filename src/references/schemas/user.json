{
  "$schema": "http://json-schema.org/draft-04/schema",
  "type": "object",
  "properties": {
    "gid": {
      "type": "string",
      "readOnly": true
    },
    "href": {
      "type": "string",
      "readOnly": true
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "readOnly": true
    },
    "modified_at": {
      "type": "string",
      "format": "date-time",
      "readOnly": true
    },
    "firstname": {
      "type": "string",
      "required": true
    },
    "lastname": {
      "type": "string",
      "required": true
    },
    "email": {
      "type": "string",
      "format": "email",
      "required": true
    },
    "pending_email": {
      "type": [null, "string"],
      "format": "email",
      "readOnly": true
    },
    "phone": {
      "type": ["string", "null"],
      "required": false
    },
    "mobile_phone": {
      "type": ["string", "null"],
      "required": false
    },
    "locale": {
      "type": "string",
      "default": "fr_FR",
      "required": false
    },
    "member_of": {
      "type": "array",
      "items": {
        "$ref": "membership.json",
        "required": true
      }
    },
    "roles": {
      "type": "array",
      "items": {
        "type": "string",
        "emum": [
          "user",
          "admin"
        ]
      },
      "readOnly": true
    },
    "notify_work": {
      "type": "boolean",
      "required": false
    },
    "notify_comment": {
      "type": "boolean",
      "required": false
    },
    "notify_misc": {
      "type": "boolean",
      "required": false
    },
    "notify_coworkers": {
      "type": "boolean",
      "required": false
    },
    "avatar": {
      "oneOf": [
          {"type": "null"},
          {"$ref": "image.json"}
      ],
      "required": false,
      "readOnly": true
    },
    "hubspot_contact_url": {
        "type": [null, "string"],
        "readOnly": true
    },
    "upload_form": {
      "$ref": "#/definitions/upload_form",
      "readOnly": true,
      "required": false
    },
    "newsletters_optin": {
      "type": "boolean",
      "default": false,
      "required": false
    },
    "profession": {
      "oneOf": [
          {"type": "null"},
          {"$ref": "reference.json"}
      ],
      "default": null,
      "required": false
    }
  },
  "definitions": {
    "upload_form": {
      "properties": {
        "form_attributes": {
          "$ref": "#/definitions/form_attributes",
          "required": true
        },
        "form_inputs": {
          "$ref": "#/definitions/form_inputs",
          "required": true
        },
        "expires_at": {
          "format": "date-time",
          "required": true
        }
      }
    },
    "form_attributes": {
      "properties": {
        "action": {
          "type": "string",
          "format": "uri",
          "required": true
        },
        "method": {
          "type": "string",
          "enum": [
              "POST"
          ],
          "required": true
        },
        "enctype": {
          "type": "string",
          "enum": [
              "multipart/form-data"
          ],
          "required": true
        }
      }
    },
    "form_inputs": {
      "properties": {
        "key": {
          "type": "string",
          "required": true
        },
        "acl": {
          "type": "string",
          "required": true
        },
        "X-Amz-Credential": {
          "type": "string",
          "required": true
        },
        "X-Amz-Algorithm": {
          "type": "string",
          "enum": [
              "AWS4-HMAC-SHA256"
          ],
          "required": true
        },
        "X-Amz-Date": {
          "format": "string",
          "required": true
        },
        "Policy": {
          "format": "string",
          "required": true
        }
      }
    }
  },
  "additionalProperties": false
}
